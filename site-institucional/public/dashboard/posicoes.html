<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="../assets/img/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="dashStyle.css">
        <script src="https://kit.fontawesome.com/1dbb06025a.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://www.chartjs.org/dist/2.8.0/Chart.min.js"></script>
        <title>SPFCStats • Análises</title>
    </head>
    <body onload="listar();">
        <header class="header">
            <div class="img-header">
                <img src="../assets/img/spfc-simbolo.png" alt="">
            </div>
        </header>
        <div class="navigation">
            <ul>
                <!-- <li class="list">
                    <b></b>
                    <b></b>
                    <a href="dash.html">
                        <span class="icon"><ion-icon name="accessibility-outline"></ion-icon></span>
                        <span class="title">Gráfico torcida</span>
                    </a>
                </li> -->
                <!-- <li class="list">
                    <b></b>
                    <b></b>
                    <a href="#">
                        <span class="icon"><ion-icon name="football-outline"></ion-icon></span>
                        <span class="title">Gráfico jogadores</span>
                    </a>
                </li> -->
                <li class="list active">
                    <b></b>
                    <b></b>
                    <a href="posicoes.html">
                        <span class="icon"><ion-icon name="clipboard-outline"></ion-icon></span>
                        <span class="title">Gráfico posições</span>
                    </a>
                </li>
                <li class="list">
                    <b></b>
                    <b></b>
                    <a href="usuario.html">
                        <span class="icon"><ion-icon name="logo-steam"></ion-icon></span>
                        <span class="title">Usuários</span>
                    </a>
                </li>
                <li class="list">
                    <b></b>
                    <b></b>
                    <a href="../logado/index2.html">
                        <span class="icon"><ion-icon name="arrow-back-circle-outline"></ion-icon></span>
                        <span class="title">Voltar</span>
                    </a>
                </li>
            </ul>
        </div>
        <div id="conteudo">
            <div id="graph-content">
                <div class="graph">
                    <canvas id="myChart" width="fit-content" height="fit-content"></canvas>
                </div>
            </div>
        </div>
        <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

        <div class="toggle">
            <ion-icon name="close-outline" class="close"></ion-icon>
            <ion-icon name="menu-outline" class="open"></ion-icon>
        </div>
    </body>
    <script src="app.js"></script>
    <script src="../homepage/js/app.js"></script>
</html>
<script>

    function listar() {
            fetch("/dados/t_independente").then(function (resposta) {
                console.log("ESTOU NO THEN DO listar()!")
                if (resposta.ok) {
                    resposta.json().then(function (resposta) {
                        console.log("Dados recebidos do usuario: ", JSON.stringify(resposta));

                        independente = resposta[resposta.indexOf(':') + 1]//não sei pq mas isso funciona
                        console.log(id_usuario.nmr_usuarios);
                        sessionStorage.ID_USUARIO = id_usuario.nmr_usuarios;

                    });
                } else {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));
                }
            }).catch(function (erro) {
                console.log(erro);
            })
            return false;
        }

        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Atacantes', 'Meia Atacantes', 'Volantes', 'Laterais esquerdos', 'Laterais direitos', 'Zagueiros', 'Goleiros'],
                datasets: [{
                    label: 'Jogadores p/ posição',
                    data: [6,4,7,3,2,6,3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(255, 99, 132, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 99, 132, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
</script>